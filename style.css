:root{
  --bg:#0b1020;--card:#0f172a;--muted:#9aa4b2;--ok:#10b981;--warn:#f59e0b;--err:#ef4444;--text:#e5e7eb;
  --accent:#60a5fa;--line:#1f2937;--chip:#111827;--chip2:#0b1220;
}
:root[data-theme="light"]{
  --bg:#f7fafc;--card:#ffffff;--muted:#4a5568;--ok:#059669;--warn:#d97706;--err:#dc2626;--text:#111827;
  --accent:#2563eb;--line:#e2e8f0;--chip:#f1f5f9;--chip2:#edf2f7;
}
*{box-sizing:border-box}
html,body{margin:0;padding:0;min-height:100%}
body{background:radial-gradient(1200px 800px at 80% -10%, rgba(96,165,250,.2) 0, var(--bg) 60%);color:var(--text);
  font:16px/1.5 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto}
.appbar{position:sticky;top:0;z-index:30;padding:10px 12px;border-bottom:1px solid var(--line);
  display:flex;align-items:center;gap:10px;justify-content:space-between;background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(0,0,0,.00));backdrop-filter:blur(8px)}
.title{font-size:18px;font-weight:800;letter-spacing:.2px}
.container{padding:12px;display:grid;grid-template-columns: 1fr;gap:12px;max-width:1100px;margin:0 auto}
.iconbtn{width:40px;height:40px;display:grid;place-items:center;border:1px solid var(--line);border-radius:10px;background:var(--chip2);color:var(--text);cursor:pointer}
.iconbtn:hover{transform:translateY(-1px)}
.select,.btn,.input{padding:10px 12px;border:1px solid var(--line);border-radius:10px;background:var(--chip2);color:var(--text)}
.btn{cursor:pointer}
.btn.wide{width:100%}
.badge{padding:4px 8px;border-radius:999px;background:var(--chip);border:1px solid var(--line);color:var(--muted);font-size:12px}
.kpis{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
.week{border:1px solid var(--line);border-radius:14px;overflow:hidden;background:linear-gradient(180deg,var(--card),var(--card))}
.week header{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;border-bottom:1px solid var(--line)}
.week header h2{margin:0;font-size:16px}
.summary{display:grid;grid-template-columns:94px 1fr 1fr 200px;gap:8px;align-items:center}
.progress{height:8px;border-radius:6px;background:#0c1220;overflow:hidden}
:root[data-theme="light"] .progress{background:#edf2f7}
.bar{height:100%;background:linear-gradient(90deg,#2563eb,#10b981);width:0%}
.task{border-top:1px solid var(--line);padding:8px 12px}
.descr{white-space:pre-wrap;color:var(--muted);font-size:14px;margin:8px 0 0}
.status{display:flex;gap:6px;justify-content:flex-end}
.ok{background:#052e2b;border-color:#064e3b}
.no{background:#2e1605;border-color:#7c2d12}
.panel{border:1px solid var(--line);border-radius:14px;background:var(--card);padding:12px;margin-bottom:12px}
.panel-title{font-weight:800;margin-bottom:8px}
.row{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
.divider{height:1px;background:var(--line);margin:10px 0}
.hint{color:var(--muted);font-size:12px}

.tabs{display:flex;gap:8px;flex-wrap:wrap;margin:8px 0 12px}
.tab{padding:8px 12px;border:1px solid var(--line);border-radius:999px;background:var(--chip2);cursor:pointer}
.tab.active{outline:2px solid var(--accent)}

.drawer{position:fixed;inset:0 30% 0 0;max-width:360px;background:var(--card);border-right:1px solid var(--line);padding:12px;transform:translateX(-110%);transition:.2s;z-index:40}
.drawer.open{transform:none}
.drawer-head{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}
.backdrop{position:fixed;inset:0;backdrop-filter:blur(2px);background:rgba(0,0,0,.2);opacity:0;pointer-events:none;transition:.2s;z-index:35}
.backdrop.show{opacity:1;pointer-events:auto}

@media (max-width: 820px){
  .summary{grid-template-columns: 80px 1fr 120px 140px}
  .title{font-size:16px}
  .drawer{inset:0 20% 0 0;max-width:86vw}
}
@media (max-width: 420px){
  .summary{grid-template-columns: 70px 1fr; gap:6px}
  .status{grid-column: 1/3; justify-content:flex-start}
  .container{padding:8px}
}
